<html>

<head>
    <title>Active Learning Tool - Home</title>
    <style>
        body {
            background-color: #EEB211;
        }
        h2 {
            text-align: center;
        }
        #question-panel {
            background-color: #2C2C2B;
            color: white;
            display: inline-block;
            min-width: 45%;
            min-height: 500px;
            border: 1px solid black;
        }
        #droppable {
            background-color: #2C2C2B;
            color: white;
            display: inline-block;
            min-width: 45%;
            min-height: 500px;
            border: 1px solid black;
            float: right;
        }
    </style>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
      $( function() {
        $( "#draggable" ).draggable();
        $( "#droppable" ).droppable({
          drop: function( event, ui ) {
            $( this )
              .addClass( "ui-state-highlight" )
              .find( "p" )
                .html( "Dropped!" );
          }
        });
      } );
    </script>

    <script>
        var socket = new WebSocket('ws://localhost:1337');
        socket.onopen = function() {
            console.log('Connected to server!');
            socket.send(JSON.stringify({
                username: 'Professor'
            }));
            socket.send(JSON.stringify({ get_quizzes: true }));
            socket.send(JSON.stringify({ get_questions: true }));
        };
        socket.onmessage = function(msg) {
            var data = JSON.parse(msg.data);
            console.log('Received: ' + JSON.stringify(data, null, 4));
        };

        function createQuestion() {
            var question = {
                name: "Fancy Question",
                answers: ["A stupid answer", "Another stupid answer", "A third stupid answer!", "Why..." ],
                correct: 1
            };

            socket.send(JSON.stringify({ create_question: question }));
        }

        function getQuestions() {
            socket.send(JSON.stringify({ get_questions: true }));
        }
    </script>
</head>

<body>
    <h1>Active Learning Tool</h1>

    <div id="panels">
        <div id="droppable" class="ui-widget-header">
            <h2>Quizzes</h2>
            <p>Drop here</p>
        </div>
        <div id="question-panel">
            <h2>Questions</h2>
            <div id="draggable" class="ui-widget-content">
              <p>Drag me to my target</p>
            </div>
        </div>
    </div>

    <button onclick="createQuestion()">Create Question!</button>
    <button onclick="getQuestions()">Get Questions!</button>
</body>

</html>
